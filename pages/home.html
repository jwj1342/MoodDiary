<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æƒ…ç»ªæ—¥è®° - é¦–é¡µ</title>
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .greeting {
            font-size: 24px;
            font-weight: 700;
        }

        .date {
            color: var(--lightTextColor);
            font-size: 14px;
        }

        .mood-summary {
            background-color: var(--morandiBeige);
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 24px;
            display: flex;
            align-items: center;
        }

        .mood-icon {
            font-size: 32px;
            margin-right: 16px;
        }

        .mood-text {
            flex: 1;
        }

        .mood-title {
            font-weight: 600;
            margin-bottom: 4px;
        }

        .section-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .view-all {
            font-size: 14px;
            color: var(--primaryColor);
            font-weight: 400;
        }

        .entry-time {
            font-size: 12px;
            color: var(--lightTextColor);
            margin-top: 8px;
        }

        .entry-tags {
            margin-top: 8px;
        }

        .insights-container {
            margin-bottom: 24px;
        }

        .insight-card {
            background-color: white;
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 16px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            display: flex;
            align-items: center;
        }

        .insight-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            background-color: var(--morandiGreen);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 16px;
            color: white;
            font-size: 24px;
        }

        .insight-content {
            flex: 1;
        }

        .insight-title {
            font-weight: 600;
            margin-bottom: 4px;
        }

        .insight-desc {
            font-size: 14px;
            color: var(--lightTextColor);
        }

        .streak-container {
            background-color: white;
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 24px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .streak-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .streak-title {
            font-weight: 600;
        }

        .streak-count {
            font-size: 14px;
            color: var(--primaryColor);
            font-weight: 600;
        }

        .streak-days {
            display: flex;
            justify-content: space-between;
        }

        .streak-day {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .day-circle {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background-color: var(--morandiGray);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 8px;
            font-size: 12px;
            color: var(--textColor);
        }

        .day-circle.active {
            background-color: var(--primaryColor);
            color: white;
        }

        .day-label {
            font-size: 12px;
            color: var(--lightTextColor);
        }

        .record-button {
            position: fixed;
            bottom: 100px;
            right: 20px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: var(--primaryColor);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            color: white;
            font-size: 24px;
            z-index: 100;
        }
    </style>
</head>

<body>
    <div class="app-container">
        <!-- çŠ¶æ€æ  -->
        <div class="status-bar">
            <div class="status-time">9:41</div>
            <div class="status-icons">
                <i class="fas fa-signal"></i>
                <i class="fas fa-wifi"></i>
                <i class="fas fa-battery-full"></i>
            </div>
        </div>

        <!-- å†…å®¹åŒºåŸŸ -->
        <div class="content-area">
            <div class="header">
                <div>
                    <div class="greeting">ä½ å¥½ï¼Œå°æ˜</div>
                    <div class="date">2025å¹´3æœˆ6æ—¥ æ˜ŸæœŸå››</div>
                </div>
                <div>
                    <i class="fas fa-bell" style="font-size: 20px; color: var(--lightTextColor);"></i>
                </div>
            </div>

            <div class="mood-summary">
                <div class="mood-icon">ğŸ˜Œ</div>
                <div class="mood-text">
                    <div class="mood-title">æœ¬å‘¨æƒ…ç»ªæ€»ç»“</div>
                    <div>æ•´ä½“æƒ…ç»ªç§¯æï¼Œæœ‰çŸ­æš‚çš„ç„¦è™‘å’Œä½è½ï¼Œå‘¨æœ«æ¢å¤å¹³é™å’Œå¼€å¿ƒ</div>
                </div>
            </div>

            <div class="streak-container">
                <div class="streak-header">
                    <div class="streak-title">è®°å½•è¿ç»­å¤©æ•°</div>
                    <div class="streak-count">å·²è¿ç»­è®°å½• 7 å¤©</div>
                </div>
                <div class="streak-days">
                    <div class="streak-day">
                        <div class="day-circle active">ä¸€</div>
                        <div class="day-label">3/1</div>
                    </div>
                    <div class="streak-day">
                        <div class="day-circle active">äºŒ</div>
                        <div class="day-label">3/2</div>
                    </div>
                    <div class="streak-day">
                        <div class="day-circle active">ä¸‰</div>
                        <div class="day-label">3/3</div>
                    </div>
                    <div class="streak-day">
                        <div class="day-circle active">å››</div>
                        <div class="day-label">3/4</div>
                    </div>
                    <div class="streak-day">
                        <div class="day-circle active">äº”</div>
                        <div class="day-label">3/5</div>
                    </div>
                    <div class="streak-day">
                        <div class="day-circle active">å…­</div>
                        <div class="day-label">3/6</div>
                    </div>
                    <div class="streak-day">
                        <div class="day-circle active">æ—¥</div>
                        <div class="day-label">3/7</div>
                    </div>
                </div>
            </div>

            <div class="insights-container">
                <div class="section-title">
                    <div>æƒ…ç»ªæ´å¯Ÿ</div>
                </div>

                <div class="insight-card">
                    <div class="insight-icon" style="background-color: var(--morandiGreen);">
                        <i class="fas fa-lightbulb"></i>
                    </div>
                    <div class="insight-content">
                        <div class="insight-title">ç¤¾äº¤æ´»åŠ¨å¯¹ä½ çš„æƒ…ç»ªæœ‰ç§¯æå½±å“</div>
                        <div class="insight-desc">ä¸æœ‹å‹ç›¸å¤„æ—¶ï¼Œä½ çš„æƒ…ç»ªæ˜æ˜¾æ›´ç§¯æ</div>
                    </div>
                </div>

                <div class="insight-card">
                    <div class="insight-icon" style="background-color: var(--morandiLavender);">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <div class="insight-content">
                        <div class="insight-title">å·¥ä½œæˆå°±æ„Ÿæ˜¯ä½ ç§¯ææƒ…ç»ªçš„ä¸»è¦æ¥æº</div>
                        <div class="insight-desc">å®Œæˆé¡¹ç›®åï¼Œä½ çš„æ»¡è¶³æ„Ÿæ˜æ˜¾æå‡</div>
                    </div>
                </div>
            </div>

            <div class="section-title">
                <div>æœ€è¿‘è®°å½•</div>
                <div class="view-all">æŸ¥çœ‹å…¨éƒ¨</div>
            </div>

            <div class="card">
                <div class="entry-time">æ˜¨å¤© 19:42</div>
                <div style="margin-top: 8px;">ä»Šå¤©çš„å·¥ä½œå¾ˆé¡ºåˆ©ï¼Œå®Œæˆäº†æ‰€æœ‰çš„ä»»åŠ¡ï¼Œæ„Ÿè§‰å¾ˆæ»¡è¶³ã€‚æ™šä¸Šå’Œæœ‹å‹ä¸€èµ·åƒäº†æ™šé¤ï¼ŒèŠäº†å¾ˆå¤šæœ‰è¶£çš„äº‹æƒ…ã€‚</div>
                <div class="entry-tags">
                    <span class="emotion-tag emotion-happy">å¼€å¿ƒ</span>
                    <span class="emotion-tag emotion-calm">æ»¡è¶³</span>
                </div>
            </div>

            <div class="card">
                <div class="entry-time">3æœˆ5æ—¥ 10:15</div>
                <div style="margin-top: 8px;">æ—©ä¸Šé†’æ¥æ„Ÿè§‰æœ‰ç‚¹ç„¦è™‘ï¼Œå¯èƒ½æ˜¯å› ä¸ºä»Šå¤©æœ‰é‡è¦çš„ä¼šè®®ã€‚æ·±å‘¼å¸å‡ æ¬¡åæ„Ÿè§‰å¥½å¤šäº†ï¼Œå‡†å¤‡è¿æ¥æŒ‘æˆ˜ã€‚</div>
                <div class="entry-tags">
                    <span class="emotion-tag emotion-anxious">ç„¦è™‘</span>
                    <span class="emotion-tag emotion-calm">å¹³é™</span>
                </div>
            </div>

            <div class="card">
                <div class="entry-time">3æœˆ4æ—¥ 21:30</div>
                <div style="margin-top: 8px;">ä»Šå¤©æ”¶åˆ°äº†ä¸€ä¸ªåæ¶ˆæ¯ï¼Œæ„Ÿåˆ°æœ‰äº›å¤±è½ã€‚ä¸è¿‡æ™šä¸Šçœ‹äº†ä¸€éƒ¨å–œå‰§ç”µå½±ï¼Œå¿ƒæƒ…å¥½äº†ä¸€äº›ã€‚æ˜å¤©ä¼šæ›´å¥½ã€‚</div>
                <div class="entry-tags">
                    <span class="emotion-tag emotion-sad">å¤±è½</span>
                    <span class="emotion-tag emotion-happy">å¸Œæœ›</span>
                </div>
            </div>
        </div>

        <!-- åº•éƒ¨å¯¼èˆªæ  -->
        <div class="tab-bar">
            <div class="tab-item active">
                <i class="tab-icon fas fa-home"></i>
                <span>é¦–é¡µ</span>
            </div>
            <div class="tab-item">
                <i class="tab-icon fas fa-edit"></i>
                <span>è®°å½•</span>
            </div>
            <div class="tab-item">
                <i class="tab-icon fas fa-chart-line"></i>
                <span>æŠ¥å‘Š</span>
            </div>
            <div class="tab-item">
                <i class="tab-icon fas fa-user"></i>
                <span>æˆ‘çš„</span>
            </div>
        </div>

        <!-- å¿«é€Ÿè®°å½•æŒ‰é’® -->
        <a href="record.html" class="record-button">
            <i class="fas fa-plus"></i>
        </a>
    </div>

    <script>
        // ä¸çˆ¶çª—å£é€šä¿¡çš„å‡½æ•°
        let parentWindow = null;
        let parentOrigin = null;

        // åˆ‡æ¢åˆ°æŒ‡å®šé¡µé¢
        function navigateTo(pageName) {
            if (parentWindow && parentOrigin) {
                parentWindow.postMessage({
                    action: 'switchPage',
                    page: pageName
                }, parentOrigin);
            } else {
                console.error('çˆ¶çª—å£é€šä¿¡æœªåˆå§‹åŒ–');
            }
        }

        // ç›‘å¬æ¥è‡ªçˆ¶çª—å£çš„æ¶ˆæ¯
        window.addEventListener('message', function (event) {
            const data = event.data;

            if (data.action === 'setupCommunication') {
                parentWindow = window.parent;
                parentOrigin = data.parentOrigin;
                console.log('ä¸çˆ¶çª—å£é€šä¿¡å·²å»ºç«‹');
            }
        });

        // æ·»åŠ äº‹ä»¶ç›‘å¬å™¨
        document.addEventListener('DOMContentLoaded', function () {
            // å¿«é€Ÿè®°å½•æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            const recordButton = document.querySelector('.record-button');
            if (recordButton) {
                recordButton.addEventListener('click', function (e) {
                    e.preventDefault();
                    navigateTo('record');
                });
            }

            // æŸ¥çœ‹å…¨éƒ¨ç‚¹å‡»äº‹ä»¶
            const viewAllLinks = document.querySelectorAll('.view-all');
            viewAllLinks.forEach(function (link) {
                link.addEventListener('click', function () {
                    navigateTo('record');
                });
            });

            // åº•éƒ¨å¯¼èˆªæ ç‚¹å‡»äº‹ä»¶
            const tabItems = document.querySelectorAll('.tab-bar .tab-item');
            tabItems.forEach(function (item, index) {
                item.addEventListener('click', function () {
                    switch (index) {
                        case 0: // é¦–é¡µ
                            navigateTo('home');
                            break;
                        case 1: // è®°å½•
                            navigateTo('record');
                            break;
                        case 2: // æŠ¥å‘Š
                            navigateTo('weekly');
                            break;
                        case 3: // æˆ‘çš„
                            navigateTo('profile');
                            break;
                    }
                });
            });

            // æƒ…ç»ªå¡ç‰‡ç‚¹å‡»äº‹ä»¶
            const cards = document.querySelectorAll('.card');
            cards.forEach(function (card) {
                card.addEventListener('click', function () {
                    navigateTo('transcript');
                });
            });

            // å‘¨æŠ¥æ‘˜è¦ç‚¹å‡»äº‹ä»¶
            const moodSummary = document.querySelector('.mood-summary');
            if (moodSummary) {
                moodSummary.addEventListener('click', function () {
                    navigateTo('weekly');
                });
            }
        });
    </script>
</body>

</html>